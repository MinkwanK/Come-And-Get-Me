 # Ghost-Escape

## 1. Ghost Escape란?
- 개요: 악마가 되기 위한 귀신과 귀신을 쫓는 인간
- 개발 도구: 언리얼엔진5, Rider
- 개발 언어: C++
- 개발 인원: 1인개발
- 장르: 공포, RPG, 1인칭
- 게임 소개: 플레이어는 귀신이다. 사람들을 놀래켜 공포 점수를 얻자. 많은 공포 점수를 획득하면, 그에 따른 특성을 얻을 수 있다. 공포점수의 마지막 업그레이드는 악마가 되는 것.이 게임은 귀신이 악마가 되는 것이 목표다. 사람들을 놀래키다 보면 귀신을 잡는 인간이 등장한다. 인간을 피해 정해진 탈출 위치로 탈출 하는것이 부가 목표이다.
- 시장 목표: 게임을 포토폴리오용으로 사용하는 것이 목적이며, 부목표는 공모전 또는 스팀에 출시이다.

## 2. 구현목표
### 2.1 귀신의 움직임 구현 
 - ~~상하좌우 이동~~
 - ~~점프~~
 - ~~앉기~~
 - ~~걷기~~
 - ~~뛰기(Shift)~~
 - 몸 자체 발광 (F 키)
 > 공포게임에서 손전등의 역할처럼 자체 발광 효과 -> 주변을 밝힐 수 있지만, 적과 민간인에게 발각될 위험을 높인다.(어떻게?)
 
 ### 2.2 귀신의 시점
 - ~~FPS 카메라와 카메라 붐~~ 
 > a. 카메라가 벽을 뚫는 문제 발생(Clipping) -> 메시 Hidden in game, 카메라 붐과 카메라를 캡슐 컴포넌트 안으로 넣음.<br>
 > b. 걷기, 달리기, 공격등의 귀신 액션시 귀신의 몸동작이 보고 싶은데 볼 수가 없는 문제 발생 -> 팔의 메시만 따로 구해서 보이게 만들자.<br>
 
 ### 2.3 귀신의 사망
 - ~~체력 구현 -> 적에게 닿으면 바로 사망~~
 > a. 플레이어가 적에게 닿는 즉시, 적의 얼굴이 공포스럽게 등장 및 공포스러운 사운드 재생 (사용자를 놀래키고 공포감 유발)<br>
 > b. 적의 공포 이미지 및 소리가 재생된 후, 게임오버 UI 화면에 수집한 공포 점수, Restart 버튼, 스테이지로 돌아가기 버튼 추가 
 
 ### 2.4 귀신의 민간인 공격
 - 놀래키기 <소리 재생 및 손동작> -> 현재 소리 재생과 State의 변화까지만 해놨음. -> 개선 필요
 > a. 비명소리는 여러개를 랜덤으로 들려줄 예정. <br>
 > b. 민간인의 플레이어를 인지하지 못할때 몰래 공격하면 높은 공포점수를 얻는다. <br>
 > c. 반대의 경우 낮은 공포 점수를 얻는다. <br>


### 2.4 헌터 NPC  <칼잡이, 근육몬>
  - 헌터의 움직임 
  > ~~평상시엔 걸어다닌다 -> 플레이어 인지시 뜀 -> 시야에 보이지 않을 시 인지 상실 타이머 작동 -> 타이머가 완료되면 플레이어 상실 <br>
  - ~~헌터에게 시야 주기~~
  - 헌터에게 청각 주기
  - ~~헌터에게 순찰 구현~~
  - 헌터는 귀신을 찾기 위해 집을 순찰하며 수색해야 한다. <br>
   >  무작위 이동 방식: 랜덤하게 주어진 타겟 포인트를 방문한다. <br>문제점 -> 어색한 순찰이고, 직전에 방문했던 타겟 포인트를 재방문하는 어색한 상황이 펼쳐진다.<br><br>
   >  직전 방문 기억 방식: 직전에 방문한 타겟 포인트는 방문하지 않아, 그나마 덜 어색해졌다. <br>문제점 -> 타겟 포인트의 수가 적을때는 어색함이 덜하지만, 타겟 포인트의 양이 많아지면 문제가 발생할 것으로 예측된다. 또한, 순찰을 돌때 효율성을 위해 무조건 인코스로 돌게 된다.
   
  - ~~헌터에게 플레이어 추적 구현~~
  > 플레이어에게 AIPerceptionStimuliSourceComponent 부착 -> register sight <br>
  > 플레이어를 Perception 하면 TargetPlayer 블랙보드 키에 플레이어를 업데이트 <br>
  > 헌터는 순찰을 돌다가 플레이어를 발견하면, 플레이어를 추격한다. <br>
  
### 2.5 민간인 NPC
 - 민간인의 움직임
 > 평상시엔 정지 상태, 무작위 이동 -> 귀신이 보일 시, 귀신이 보이지 않는 곳으로 도망간다.
 - 민간인과 귀신의 상호작용
 > 민간인의 시야각안에 귀신이 들어온다 -> 공포도 소폭 상승 및 놀라는 모션 및 소리지름 -> 도망
 

### 2.6 공포 점수 시스템 도입

### 2.7 UI
- 메인 화면 UI
 > 게임 시작, 계속하기, 게임 종료 
- 스테이지 선택 UI
 > 스테이지 선택, 스킬, 뒤로가기
- 게임 오버 UI
 > 재시작, 스테이지 선택
 > 공포 화면 연출, 공포 사운드
 
### 2.8 사운드 (공포 게임은 무서운 분위기를 자아낼 사운드가 매우 중요)
- 플레이어
> 발소리, 공격소리
- 적
> 발소리, 웃음소리, 겁주는 소리
- 게임 오버 사운드
> 사용자를 놀래킬 만한 소리가 필요하다.적의 거리별 사운드 감쇄 효과 적용




## 구현 순서
적에게 청각 부여 및 인지<br>
청각에 따른 추격<br>
민간인 <br>


## 미흡한 점 
공격 기능<br>
맵의 짜임새 <br>
리얼한 사운드<br>
무섭지 않은 적 <br>

## 배운 점
AIController 소스파일에 AIPerception Component를 생성하면, 그 AIC를 사용하는 AI들은 Perception 을 가지게 된다. 예시로 AIC에 Eye Perception 을 주고 AI에 AIC를 적용하면 Eye Perception 을 가지게 된다.

## 피드백
0.1v
손전등이 있으면 좋겠다.
삐에로에게 발각되면 계속 쫓아온다. 숨는 곳이 있으면 좋겠다.






